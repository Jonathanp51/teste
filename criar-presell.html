<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Presell - Perfect Presell</title>
    
    <!-- Depend√™ncias -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Editor de Texto (CKEditor) -->
    <script src="https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js"></script>

    <style>
        body { font-family: 'Roboto', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111827; }
        ::-webkit-scrollbar-thumb { background: #374151; border-radius: 4px; }
        
        /* For√ßar o CKEditor a ficar escuro para combinar com o tema */
        .ck-editor__editable {
            min-height: 300px;
            background-color: #1f2937 !important; /* gray-800 */
            color: #e5e7eb !important; /* gray-200 */
        }
        .ck.ck-editor__main>.ck-editor__editable:not(.ck-focused) {
            border-color: #374151 !important;
        }
        .ck.ck-toolbar {
            background-color: #111827 !important; /* gray-900 */
            border-color: #374151 !important;
        }
        .ck.ck-button {
            color: #d1d5db !important;
        }
        .ck.ck-button:hover {
            background-color: #374151 !important;
        }
        /* Esconder label do editor que fica branca */
        .ck.ck-editor__label { display: none !important; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 overflow-hidden">

    <!-- CONTAINER PRINCIPAL -->
    <div class="flex h-screen w-full">
        
        <!-- SIDEBAR (Menu Lateral) -->
        <aside class="w-64 bg-gray-950 border-r border-gray-800 flex flex-col shrink-0 transition-all duration-300">
            <div class="p-6 flex items-center gap-3 border-b border-gray-800 h-20">
                <div class="w-10 h-10 bg-gradient-to-br from-green-600 to-green-800 rounded-lg flex items-center justify-center font-bold text-white shadow-lg shadow-green-900/50 text-xl">P</div>
                <div class="flex flex-col">
                    <span class="font-bold text-lg tracking-tight text-white leading-none">PERFECT</span>
                    <span class="font-bold text-sm text-green-500 tracking-widest leading-none">PRESELL</span>
                </div>
            </div>

            <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
                <a href="dashboard.html" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-all group">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 group-hover:text-green-400 transition-colors"></i>
                    <span class="font-medium">Dashboard</span>
                </a>

                <!-- Item Ativo -->
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg bg-green-600 text-white shadow-lg shadow-green-900/50 transition-all group">
                    <i data-lucide="plus-circle" class="w-5 h-5"></i>
                    <span class="font-medium">Criar Nova</span>
                </a>

                <a href="minhas-presells.html" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-all group">
                    <i data-lucide="list" class="w-5 h-5 group-hover:text-green-400 transition-colors"></i>
                    <span class="font-medium">Minhas Presells</span>
                </a>
                
                <a href="criar-ia.html" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-all group">
                    <i data-lucide="bot" class="w-5 h-5 group-hover:text-green-400 transition-colors"></i>
                    <span class="font-medium">Presell com IA</span>
                </a>
            </nav>
        </aside>

        <!-- CONTE√öDO PRINCIPAL -->
        <main class="flex-1 flex flex-col min-w-0 bg-gray-900 relative">
            
            <!-- Header Simples -->
            <header class="h-20 bg-gray-900/95 backdrop-blur border-b border-gray-800 flex items-center justify-between px-8 shrink-0 z-20">
                <div class="flex items-center gap-4">
                    <a href="dashboard.html" class="p-2 text-gray-400 hover:text-white bg-gray-800 rounded-lg transition-colors">
                        <i data-lucide="arrow-left" class="w-5 h-5"></i>
                    </a>
                    <div>
                        <h1 class="text-xl font-bold text-white">Criar Nova P√°gina</h1>
                        <p class="text-gray-500 text-xs">Preencha os dados abaixo</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <span class="text-gray-500 text-sm">Salvando como rascunho...</span>
                </div>
            </header>

            <!-- Area de Scroll do Form -->
            <div class="flex-1 overflow-y-auto p-8 pb-20">
                <div class="max-w-4xl mx-auto">
                    
                    <!-- FORMUL√ÅRIO VISUAL (Sem a√ß√£o de PHP) -->
                    <form action="#" class="bg-gray-800 border border-gray-700 rounded-2xl shadow-xl overflow-hidden">
                        <div class="p-8 space-y-6">
                            
                            <!-- T√≠tulo -->
                            <div>
                                <label for="title" class="block text-sm font-medium text-gray-300 mb-2">T√≠tulo da P√°gina <span class="text-red-500">*</span></label>
                                <input type="text" id="title" name="title" required
                                    placeholder="Ex: M√©todo de Emagrecimento 2024"
                                    class="w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                            </div>
                            
                            <!-- Slug -->
                            <div>
                                <label for="slug" class="block text-sm font-medium text-gray-300 mb-2">Link da P√°gina (Slug) <span class="text-red-500">*</span></label>
                                <div class="flex rounded-lg shadow-sm">
                                    <span class="inline-flex items-center px-4 rounded-l-lg border border-r-0 border-gray-700 bg-gray-900/50 text-gray-400 text-sm">
                                        seusite.com/
                                    </span>
                                    <input type="text" id="slug" name="slug" 
                                        placeholder="metodo-emagrecimento"
                                        class="flex-1 min-w-0 block w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-r-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                                </div>
                                <p class="mt-2 text-xs text-gray-500">Preenchimento autom√°tico ao digitar o t√≠tulo.</p>
                            </div>
                            
                            <!-- Editor de Conte√∫do -->
                            <div>
                                <label for="content" class="block text-sm font-medium text-gray-300 mb-2">Conte√∫do da Presell <span class="text-red-500">*</span></label>
                                <div class="text-black"> 
                                    <!-- O CKEditor substitui esse textarea -->
                                    <textarea id="content" name="content">
<h2>T√≠tulo da sua oferta aqui</h2>
<p>Escreva o texto persuasivo aqui. Voc√™ pode adicionar listas, negrito e links.</p>
<ul>
    <li>Benef√≠cio 1</li>
    <li>Benef√≠cio 2</li>
    <li>Benef√≠cio 3</li>
</ul>
                                    </textarea>
                                </div>
                            </div>
                            
                            <!-- Status -->
                            <div>
                                <label for="status" class="block text-sm font-medium text-gray-300 mb-2">Status de Publica√ß√£o</label>
                                <div class="relative">
                                    <select id="status" name="status" class="w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white appearance-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent cursor-pointer">
                                        <option value="draft">üìù Rascunho (N√£o vis√≠vel)</option>
                                        <option value="published">‚úÖ Publicado (Vis√≠vel)</option>
                                    </select>
                                    <i data-lucide="chevron-down" class="absolute right-4 top-3.5 w-5 h-5 text-gray-400 pointer-events-none"></i>
                                </div>
                            </div>

                        </div>
                        
                        <!-- Footer do Form -->
                        <div class="bg-gray-900/50 px-8 py-5 flex justify-end gap-3 border-t border-gray-700">
                            <a href="dashboard.html" class="px-6 py-2.5 rounded-lg text-gray-300 hover:text-white hover:bg-gray-700 font-medium transition-colors">
                                Cancelar
                            </a>
                            <button type="button" onclick="alert('No modo HTML os dados n√£o s√£o salvos no banco de dados!')" class="bg-green-600 hover:bg-green-500 text-white px-6 py-2.5 rounded-lg font-bold shadow-lg shadow-green-900/50 transition-all flex items-center gap-2">
                                <i data-lucide="save" class="w-4 h-4"></i>
                                Salvar Presell
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </main>
    </div>

    <!-- Scripts de Funcionalidade -->
    <script>
        // 1. Renderizar √≠cones
        lucide.createIcons();

        // 2. L√≥gica de Slug Autom√°tico (Javascript Puro)
        const titleInput = document.getElementById('title');
        const slugInput = document.getElementById('slug');

        function createSlugJS(text) {
            return text.toString().toLowerCase()
                .normalize('NFD').replace(/[\u0300-\u036f]/g, '') // Remove acentos
                .replace(/\s+/g, '-')           // Espa√ßos viram hifens
                .replace(/[^\w\-]+/g, '')       // Remove caracteres especiais
                .replace(/\-\-+/g, '-')         // Remove hifens duplicados
                .replace(/^-+/, '')             // Remove hifen do inicio
                .replace(/-+$/, '');            // Remove hifen do fim
        }

        titleInput.addEventListener('input', function() {
            // S√≥ atualiza autom√°tico se o usu√°rio n√£o tiver mexido no slug manualmente
            if (!slugInput.value || slugInput.dataset.auto === "true") {
                slugInput.value = createSlugJS(this.value);
                slugInput.dataset.auto = "true";
            }
        });

        slugInput.addEventListener('input', function() {
            slugInput.dataset.auto = "false"; // Usu√°rio mexeu manualmente, para de atualizar
        });
        
        // 3. Inicializar Editor de Texto Rico (CKEditor)
        ClassicEditor
            .create(document.querySelector('#content'), {
                toolbar: {
                    items: [
                        'heading', '|',
                        'bold', 'italic', 'link', 'bulletedList', 'numberedList', '|',
                        'blockQuote', 'undo', 'redo'
                    ]
                }
            })
            .catch(error => {
                console.error(error);
            });
    </script>
</body>
</html>
